<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ví điện tử</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-black: #0a0a0a;
      --secondary-black: #1a1a1a;
      --accent-gray: #2a2a2a;
      --light-gray: #f8f8f8;
      --border-gray: #e5e5e5;
      --text-gray: #666666;
      --white: #ffffff;
      --gold-accent: #d4af37;
      --success-green: #10b981;
      --error-red: #dc2626;
      --orange-accent: #ff6b35;
      --blue-accent: #3b82f6;
      --shopee-orange: #ee4d2d;
      --shadow-light: rgba(0, 0, 0, 0.05);
      --shadow-medium: rgba(0, 0, 0, 0.1);
      --shadow-heavy: rgba(0, 0, 0, 0.15);

      /* Gradient colors */
      --gradient-start: #0a4d68;
      --gradient-mid: #088395;
      --gradient-end: #05bfdb;
      --gradient-light-end: #8de0a6;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-light-end) 100%);
      min-height: 100vh;
      color: var(--primary-black);
      line-height: 1.6;
    }

    /* Header matching cart style */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border-gray);
      z-index: 1000;
      padding: 16px 0;
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .header-content {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo-container {
      display: inline-block;
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .logo-placeholder {
      width: 120px;
      height: 40px;
      background: var(--light-gray);
      border: 2px dashed var(--border-gray);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-gray);
      font-size: 10px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .nav-links {
      display: flex;
      gap: 30px;
      align-items: center;
    }

    .nav-link {
      color: var(--primary-black);
      text-decoration: none;
      font-weight: 500;
      font-size: 14px;
      transition: all 0.3s ease;
      padding: 8px 16px;
      border-radius: 8px;
    }

    .nav-link:hover {
      background: var(--light-gray);
      color: var(--gradient-mid);
    }

    /* Main Content */
    .main-content {
      padding: 120px 40px 40px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .page-title {
      font-size: 32px;
      font-weight: 700;
      color: var(--primary-black);
      margin-bottom: 30px;
      text-align: center;
    }

    .wallet-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-bottom: 40px;
    }

    .wallet-card {
      background: var(--white);
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 8px 32px var(--shadow-light);
      border: 1px solid var(--border-gray);
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .wallet-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 16px 48px var(--shadow-medium);
    }

    .balance-card {
      background: linear-gradient(135deg, var(--gradient-mid), var(--gradient-end));
      color: var(--white);
      border: none;
    }

    .card-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .balance-card .card-title {
      color: var(--white);
    }

    .balance-amount {
      font-size: 36px;
      font-weight: 700;
      color: var(--white);
      margin-bottom: 20px;
    }

    .deposit-btn {
      background: var(--white);
      color: var(--gradient-mid);
      padding: 12px 24px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      font-size: 14px;
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      border: 2px solid var(--white);
    }

    .deposit-btn:hover {
      background: transparent;
      color: var(--white);
      transform: translateY(-1px);
    }

    .transaction-history {
      background: var(--white);
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 8px 32px var(--shadow-light);
      border: 1px solid var(--border-gray);
    }

    .history-title {
      font-size: 24px;
      font-weight: 600;
      color: var(--primary-black);
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 2px solid var(--border-gray);
    }

    .transaction-list {
      list-style: none;
    }

    .transaction-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 0;
      border-bottom: 1px solid var(--border-gray);
      transition: all 0.3s ease;
    }

    .transaction-item:last-child {
      border-bottom: none;
    }

    .transaction-item:hover {
      background: var(--light-gray);
      margin: 0 -15px;
      padding: 16px 15px;
      border-radius: 8px;
    }

    .transaction-date {
      color: var(--text-gray);
      font-size: 14px;
      font-weight: 500;
    }

    .transaction-amount {
      font-size: 16px;
      font-weight: 600;
      color: var(--success-green);
    }

    .empty-state {
      text-align: center;
      padding: 40px 20px;
      color: var(--text-gray);
      font-style: italic;
    }

    .icon {
      width: 20px;
      height: 20px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .header-content {
        padding: 0 20px;
        flex-direction: column;
        gap: 15px;
      }

      .nav-links {
        gap: 15px;
      }

      .main-content {
        padding: 140px 20px 20px;
      }

      .wallet-container {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .page-title {
        font-size: 24px;
      }

      .balance-amount {
        font-size: 28px;
      }

      .wallet-card {
        padding: 20px;
      }

      .transaction-history {
        padding: 20px;
      }
    }

    .transaction-amount.Increase {
      color: var(--success-green);
    }

    .transaction-amount.Decrease {
      color: var(--error-red);
    }
  </style>
</head>
<body>

<!-- Header -->
<header class="header">
  <div class="header-content">
    <a href="/home" class="logo-container">
      <div class="logo-placeholder">
        <span>Your Logo</span>
      </div>
    </a>

    <nav class="nav-links">
      <a href="/home" class="nav-link">Trang chủ</a>
      <a href="/cart" class="nav-link">Giỏ hàng</a>
      <a href="/wallet" class="nav-link">Ví điện tử</a>
    </nav>
  </div>
</header>

<main class="main-content">
  <h1 class="page-title">Ví điện tử của bạn</h1>

  <div class="wallet-container">
    <!-- Balance Card -->
    <div class="wallet-card balance-card">
      <h2 class="card-title">
        <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2"/>
          <path d="M12 7V12L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Số dư hiện tại
      </h2>
      <div class="balance-amount" th:text="${#numbers.formatDecimal(balance, 0, 'COMMA', 0, 'POINT')} + ' ₫'">0 ₫</div>
      <a href="/wallet/deposit" class="deposit-btn">
        <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 5V19M5 12L19 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Nạp tiền
      </a>
    </div>

    <!-- Quick Stats Card -->
    <div class="wallet-card">
      <h2 class="card-title">
        <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 11H15M9 15H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H12.5858C12.851 3 13.1054 3.10536 13.2929 3.29289L19.7071 9.70711C19.8946 9.89464 20 10.149 20 10.4142V19C20 20.1046 19.1046 21 18 21H17Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Thống kê giao dịch
      </h2>
      <div style="margin-bottom: 15px;">
        <div style="color: var(--text-gray); font-size: 14px; margin-bottom: 5px;">Tổng giao dịch</div>
        <div style="font-size: 24px; font-weight: 600; color: var(--primary-black);" th:text="${#lists.size(historyList)}">0</div>
      </div>
    </div>
  </div>

  <!-- Transaction History -->
  <div class="transaction-history">
    <h2 class="history-title">Lịch sử giao dịch</h2>
    <ul class="transaction-list">
      <li th:each="entry : ${historyList}" class="transaction-item">
        <span class="transaction-date" th:text="${#temporals.format(entry.createdAt, 'dd/MM/yyyy HH:mm')}"></span>
        <span class="transaction-amount"
              th:classappend="${entry.status == 'Decrease' ? 'Decrease' : 'Increase'}"
              th:text="${entry.status == 'Decrease' ? '- ' : '+ '} + ${#numbers.formatDecimal(entry.amount, 0, 'COMMA', 0, 'POINT')} + ' ₫'"></span>
      </li>
      <li th:if="${#lists.isEmpty(historyList)}" class="empty-state">
        Chưa có giao dịch nào
      </li>
    </ul>
  </div>
</main>

</body>
</html>
