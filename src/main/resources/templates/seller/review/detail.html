<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Chi tiết đánh giá sản phẩm</title>
    <link rel="stylesheet" th:href="@{/assets/css/SellerReview.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <style>
        .review-detail-container { max-width: 700px; margin: 40px auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 16px rgba(0,0,0,0.08); padding: 32px; }
        .review-detail-header { font-size: 1.3em; font-weight: 600; margin-bottom: 18px; }
        .review-detail-product { display: flex; align-items: center; margin-bottom: 18px; }
        .review-detail-product img { width: 70px; height: 70px; object-fit: cover; border-radius: 8px; margin-right: 18px; }
        .review-detail-stars i { color: #FFD600; margin-right: 2px; }
        .review-detail-images { margin: 12px 0; }
        .review-detail-img-thumb { width: 70px; height: 70px; object-fit: cover; border-radius: 6px; margin-right: 8px; cursor: pointer; transition: transform 0.2s; }
        .review-detail-img-thumb:hover { transform: scale(1.2); }
        .review-detail-meta { color: #888; font-size: 0.98em; margin-top: 8px; }
        .review-detail-comment { margin: 16px 0; font-size: 1.08em; }
        .btn-back { background: #1976d2; color: #fff; border: none; border-radius: 4px; padding: 6px 16px; cursor: pointer; transition: background 0.2s; text-decoration: none; }
        .btn-back:hover { background: #125ea2; }
    </style>
</head>
<body>
<div class="review-detail-container">
    <div class="review-detail-header">Chi tiết đánh giá sản phẩm</div>
    <div class="review-detail-product">
        <img th:src="${review.productImage}" alt="Ảnh sản phẩm"/>
        <div>
            <div th:text="${review.productName}" style="font-weight:600;"></div>
            <div class="review-detail-stars">
                <span th:each="i : ${#numbers.sequence(1, review.rating)}">
                    <i class="fa-solid fa-star"></i>
                </span>
                <span th:each="i : ${#numbers.sequence(review.rating+1, 5)}">
                    <i class="fa-regular fa-star"></i>
                </span>
            </div>
        </div>
    </div>
    <div class="review-detail-comment" th:text="${review.comment}"></div>
    <div class="review-detail-images" th:if="${review.reviewImages != null && !#lists.isEmpty(review.reviewImages)}">
        <img th:each="img : ${review.reviewImages}" th:src="${img}" class="review-detail-img-thumb" alt="Ảnh đánh giá">
    </div>
    <div class="review-detail-meta">
        Người đánh giá: <span th:text="${review.customerName}"></span> | Ngày: <span th:text="${#dates.format(review.createdAt, 'dd/MM/yyyy')}"></span>
    </div>
    <div class="review-reply-block" style="margin-top:24px;">
        <h4>Phản hồi của shop:</h4>
        <div th:if="${replyContent != null}">
            <div style="background:#f3f3f3;padding:12px 16px;border-radius:6px;">[[${replyContent}]]</div>
            <form th:action="@{'/seller/reviews/' + ${review.reviewId} + '/reply'}" method="post" style="margin-top:12px;">
                <textarea name="replyContent" rows="3" style="width:100%;border-radius:6px;">[[${replyContent}]]</textarea>
                <button type="submit" class="btn-detail" style="margin-top:8px;">Sửa phản hồi</button>
            </form>
        </div>
        <div th:if="${replyContent == null}">
            <form th:action="@{'/seller/reviews/' + ${review.reviewId} + '/reply'}" method="post">
                <textarea name="replyContent" rows="3" style="width:100%;border-radius:6px;"></textarea>
                <button type="submit" class="btn-detail" style="margin-top:8px;">Gửi phản hồi</button>
            </form>
        </div>
    </div>
    <a th:href="@{/seller/reviews}" class="btn-back">&larr; Quay lại danh sách</a>
</div>
</body>
</html> 