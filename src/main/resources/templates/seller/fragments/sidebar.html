<aside class="sidebar" th:fragment="sidebar">
    <div class="sidebar-header">
        <div class="logo">
            <i class="fas fa-cube"></i>
            <span>Trung Tâm Người Bán</span>
        </div>
    </div>
    <nav class="sidebar-nav">
        <ul class="sidebar-menu">

            <!-- Dashboard -->
            <li class="sidebar-section">
                <div class="sidebar-section-header" onclick="toggleSidebarSection(this)">
                    <span>Dashboard</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <ul class="sidebar-submenu" style="display:block;">
                    <li class="nav-item" th:classappend="${activePage == 'dashboard'} ? 'active'">
                        <a th:href="@{/seller/dashboard}">
                            <i class="fas fa-chart-line me-2"></i>Tổng Quan
                        </a>
                    </li>
                </ul>
            </li>

            <!-- Quản Lý Đơn Hàng -->
            <li class="sidebar-section">
                <div class="sidebar-section-header" onclick="toggleSidebarSection(this)">
                    <span>Quản Lý Đơn Hàng</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <ul class="sidebar-submenu" style="display:block;">
                    <li class="nav-item" th:classappend="${activePage == 'orders-all'} ? 'active'">
                        <a th:href="@{/seller/orders}">Tất cả đơn hàng</a>
                    </li>
                </ul>
            </li>
            <!-- Quản Lý Sản Phẩm -->
            <li class="sidebar-section">
                <div class="sidebar-section-header" onclick="toggleSidebarSection(this)">
                    <span>Quản Lý Sản Phẩm</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <ul class="sidebar-submenu" style="display:block;">
                    <li class="nav-item" th:classappend="${activePage == 'products-all'} ? 'active'">
                        <a th:href="@{/seller/products}">Tất Cả Sản Phẩm</a>
                    </li>
                    <li class="nav-item" th:classappend="${activePage == 'products-add'} ? 'active'">
                        <a th:href="@{/seller/products/create}">Thêm Sản Phẩm</a>
                    </li>
                </ul>
            </li>
            <!-- Kênh Marketing -->
            <li class="sidebar-section">
                <div class="sidebar-section-header" onclick="toggleSidebarSection(this)">
                    <span>Kênh Marketing</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <ul class="sidebar-submenu" style="display:block;">
                    <li class="nav-item" th:classappend="${activePage == 'promotions'} ? 'active'">
                        <a th:href="@{/seller/promotions}">
                            <i class="fas fa-gift me-2"></i>Khuyến Mãi của Shop
                        </a>
                    </li>

                </ul>
            </li>
            <!-- Chăm sóc khách hàng -->
            <li class="sidebar-section">
                <div class="sidebar-section-header" onclick="toggleSidebarSection(this)">
                    <span>Chăm sóc khách hàng</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <ul class="sidebar-submenu" style="display:block;">
                    <li class="nav-item"><a th:href="@{/seller/chat}">Quản lý Chat</a></li>
                    <li class="nav-item"><a href="/seller/reviews">Quản lý Đánh Giá</a></li>
                </ul>
            </li>
            <!-- Tài Chính -->
            <li class="sidebar-section">
                <div class="sidebar-section-header" onclick="toggleSidebarSection(this)">
                    <span>Tài Chính</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <ul class="sidebar-submenu" style="display:block;">
                    <li class="nav-item"><a href="/seller/wallet">Số dư TK Musa</a></li>
                    <!--                    <li class="nav-item"><a href="#">Tài Khoản Ngân Hàng</a></li>-->
                </ul>
            </li>
            <!-- Quản Lý Shop -->
            <li class="sidebar-section">
                <div class="sidebar-section-header" onclick="toggleSidebarSection(this)">
                    <span>Quản Lý Shop</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <ul class="sidebar-submenu" style="display:block;">
                    <li class="nav-item"><a href="/seller/shop/profile">
                        <i class="fas fa-id-card"></i> Hồ sơ Shop
                    </a></li>
                    <li class="nav-item"><a href="/seller/shop/profile/edit">
                        <i class="fas fa-pen"></i> Chỉnh sửa hồ sơ Shop
                    </a></li>

                </ul>
            </li>
        </ul>
    </nav>
    <script>
        function toggleSidebarSection(header) {
            var submenu = header.nextElementSibling;
            if (submenu.style.display === 'block') {
                submenu.style.display = 'none';
                header.querySelector('i').classList.remove('fa-chevron-down');
                header.querySelector('i').classList.add('fa-chevron-up');
            } else {
                submenu.style.display = 'block';
                header.querySelector('i').classList.remove('fa-chevron-up');
                header.querySelector('i').classList.add('fa-chevron-down');
            }
        }
    </script>
</aside>